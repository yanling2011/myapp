/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: May 2 10:13
*/
KISSY.add("resizable/base",function(n,d,s,k){function o(a){var a=a.newVal,f=this.dds,g=this.get("node");this.destroy();for(b=0;b<a.length;b++){var c=a[b],e=p("<div class='"+q+" "+q+"-"+c+"'></div>").prependTo(g),c=f[c]=new t({node:e,cursor:null});c.on("drag",u,this);c.on("dragstart",v,this)}}function v(){var a=this.get("node");this._width=a.width();this._top=parseInt(a.css("top"));this._left=parseInt(a.css("left"));this._height=a.height()}function u(a){var f=this.get("node"),g=a.target,c;a:{c=this.dds;
for(var e in c)if(c[e]==g){c=e;break a}c=0}e=this._width;var d=this._height,h=this.get("minWidth"),i=this.get("maxWidth"),l=this.get("minHeight"),w=this.get("maxHeight"),a=j[c](h,i,l,w,this._top,this._left,e,d,a.top-g.startNodePos.top,a.left-g.startNodePos.left),g=["width","height","top","left"];for(b=0;b<g.length;b++)a[b]&&f.css(g[b],a[b])}function m(a){var f;m.superclass.constructor.apply(this,arguments);this.on("afterHanldersChange",o,this);f=this.get("node");this.dds={};"static"==f.css("position")&&
f.css("position","relative");o.call(this,{newVal:this.get("handlers")})}var p=d.all,b,t=k.Draggable,q="ks-resizable-handler",k=["l","r"],r=["t","b"],j={t:function(a,f,b,c,e,d,h,i,l){a=Math.min(Math.max(b,i-l),c);return[0,a,e+i-a,0]},b:function(a,f,b,c,e,d,h,i,l){return[0,Math.min(Math.max(b,i+l),c),0,0]},r:function(a,b,g,c,e,d,h,i,l,j){return[Math.min(Math.max(a,h+j),b),0,0,0]},l:function(a,b,g,c,e,d,h,i,j,k){a=Math.min(Math.max(a,h-k),b);return[a,0,0,d+h-a]}};for(b=0;b<k.length;b++)for(d=0;d<r.length;d++)(function(a,
f){j[a+f]=j[f+a]=function(){var d=j[a].apply(this,arguments),c=j[f].apply(this,arguments),e=[];for(b=0;b<d.length;b++)e[b]=d[b]||c[b];return e}})(k[b],r[d]);n.extend(m,s,{destroy:function(){var a=this.dds,b;for(b in a)a.hasOwnProperty(b)&&(a[b].destroy(),a[b].get("node").remove(),delete a[b])}},{ATTRS:{node:{setter:function(a){return p(a)}},minWidth:{value:0},minHeight:{value:0},maxWidth:{value:Number.MAX_VALUE},maxHeight:{value:Number.MAX_VALUE},handlers:{value:[]}}});return m},{requires:["node",
"base","dd"]});KISSY.add("resizable",function(n,d){return d},{requires:["resizable/base"]});
